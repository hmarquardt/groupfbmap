<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GroupFBMap - Facebook Group Member Map</title>
    <!-- <link rel="stylesheet" href="style.css"> Tailwind handles styling -->
    <!-- Tailwind CSS Play CDN (for development/no-build) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Leaflet CSS CDN -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
</head>
<body class="bg-gray-100 font-sans leading-normal tracking-normal">
    <!-- FAQ Navbar -->
    <nav class="bg-gray-800 text-white p-2 flex justify-end">
        <a id="faq-link" class="hover:underline cursor-pointer px-3">FAQ</a>
    </nav>

    <!-- FAQ Content (hidden by default) -->
    <div id="faq-content" class="hidden bg-white p-6 mt-2 rounded shadow-md max-w-3xl mx-auto">
        <h1 class="text-2xl font-bold mb-4">📍 GroupFBMap – Frequently Asked Questions</h1>

        <h2 class="text-xl font-semibold mt-4 mb-2">❓ What is GroupFBMap?</h2>
        <p class="mb-3">GroupFBMap is a free web app that helps members of Facebook groups voluntarily show their approximate location on a shared, interactive map. It’s a fun and privacy-conscious way to see where everyone’s from!</p>
        <p class="mb-3">🔗 Visit the site: <a href="https://groupfbmap.com" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">https://groupfbmap.com</a></p>
        <p class="mb-3">💻 View the code: <a href="https://github.com/YOUR_USERNAME/groupfbmap" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">GitHub Repo</a> <span class="text-gray-500 text-sm">(Replace YOUR_USERNAME with the actual repo owner if different)</span></p>

        <h2 class="text-xl font-semibold mt-4 mb-2">👀 Where do I start?</h2>
        <p class="mb-3">On the homepage, you’ll see two main actions:</p>
        <ul class="list-disc list-inside mb-3 ml-4">
            <li><strong>View Group Map</strong> – Enter your Facebook Group ID to view the map for that group.</li>
            <li><strong>Add Me to a Group Map</strong> – Join the map by submitting your info.</li>
        </ul>
        <p class="mb-3 italic text-gray-600">(Consider adding the homepage screenshot here if possible)</p>


        <h2 class="text-xl font-semibold mt-4 mb-2">🧭 How do I add myself to a group map?</h2>
        <p class="mb-3">Click "Add Me to a Group Map" on the homepage, then:</p>
        <ol class="list-decimal list-inside mb-3 ml-4 space-y-1">
            <li>Allow your browser to access your location.</li>
            <li>Enter your:
                <ul class="list-disc list-inside ml-6 mt-1">
                    <li>First Name</li>
                    <li>Facebook Group Profile URL (you can find this in your group’s member list)</li>
                    <li>(Optional) Upload a small avatar.</li>
                </ul>
            </li>
            <li>Submit your entry.</li>
            <li>You’ll receive a <code>Delete Token</code> — save it somewhere safe!</li>
        </ol>

        <h2 class="text-xl font-semibold mt-4 mb-2">🔁 What if I move or want to change my info?</h2>
        <p class="mb-3">No problem! Simply:</p>
        <ol class="list-decimal list-inside mb-3 ml-4 space-y-1">
            <li>Use your <code>Delete Token</code> to remove your old entry.</li>
            <li>Re-submit your info with your new location using the "Add Me to a Group Map" button.</li>
        </ol>

        <h2 class="text-xl font-semibold mt-4 mb-2">🔐 What is the Delete Token for?</h2>
        <p class="mb-3">Your <code>Delete Token</code> allows you to manage your entry later (e.g., delete it).</p>
        <ul class="list-disc list-inside mb-3 ml-4 space-y-1">
            <li>If you’ve only joined one group, the token is stored locally on your device.</li>
            <li>If you join multiple groups, only the most recent token is saved locally.</li>
            <li>We strongly recommend copying and saving your token (e.g., in a note or email) when it’s shown.</li>
            <li>Without it, we cannot delete your entry — this is intentional for privacy reasons.</li>
        </ul>

        <h2 class="text-xl font-semibold mt-4 mb-2">🗺️ Who can see my profile and location?</h2>
        <p class="mb-3">In private Facebook groups, only other members will be able to view your profile via your map entry.</p>
        <p class="mb-3">In public groups, anyone with your Facebook Group Profile URL can access your profile.</p>
        <p class="mb-3">For extra privacy:</p>
        <ul class="list-disc list-inside mb-3 ml-4 space-y-1">
            <li>Use a pseudonym instead of your real name.</li>
            <li>Skip the avatar upload.</li>
            <li>Your map location is intentionally dithered by a small random amount (0.005–0.01 degrees) to prevent showing your exact address.</li>
        </ul>

        <h2 class="text-xl font-semibold mt-4 mb-2">📌 Can I join maps for multiple groups?</h2>
        <p class="mb-3">Yes, you can join as many different group maps as you’d like. Just remember:</p>
        <ul class="list-disc list-inside mb-3 ml-4 space-y-1">
            <li>Each entry generates a new <code>Delete Token</code>.</li>
            <li>Only the last token is stored on your device, so save them all individually if needed.</li>
        </ul>

        <h2 class="text-xl font-semibold mt-4 mb-2">🧼 How do I remove myself from a map?</h2>
        <ol class="list-decimal list-inside mb-3 ml-4 space-y-1">
            <li>Go to the relevant group’s map via the “View Group Map” button.</li>
            <li>Click “Manage My Entry.”</li>
            <li>Enter your <code>Delete Token</code> and confirm removal.</li>
        </ol>

        <h2 class="text-xl font-semibold mt-4 mb-2">❓ I lost my Delete Token. Can you help?</h2>
        <p class="mb-3">Sorry — without your token, we cannot verify your entry for deletion.</p>
        <p class="mb-3">You can always add a new entry if needed, but we cannot remove the old one without the original token.</p>
    </div>

    <!-- Notification Banner (hidden by default) -->
    <div id="notification-banner" class="fixed top-0 left-0 right-0 p-4 text-center text-white z-50 transition-opacity duration-500 ease-in-out opacity-0 pointer-events-none flex justify-between items-center">
        <span id="notification-message" class="flex-grow mr-4"></span> <!-- Span to hold the message -->
        <button id="notification-close-button" class="text-xl font-bold leading-none hover:text-gray-300 focus:outline-none">&times;</button> <!-- Close button -->
    </div>

    <!-- Loading Indicator -->
    <div id="loading-indicator" class="p-4 text-center">
        <p>Loading GroupFBMap...</p>
        <!-- Optional: Add a spinner later -->
    </div>

    <!-- Main App Container (hidden initially) -->
    <div id="app-container" class="hidden container mx-auto p-4 md:p-6 lg:p-8 max-w-4xl">
        <h1 class="text-3xl font-bold mb-6 text-center text-blue-700">GroupFBMap</h1>

    <!-- Map container -->
    <div id="map-view" class="hidden bg-white p-4 rounded shadow-lg"> <!-- Map View Container -->
        <div id="map" class="h-80 md:h-[500px] w-full border border-gray-300 rounded mb-4"></div>
        <!-- Buttons for map view like "Delete My Info", "Switch Group" will go here -->
        <div class="mt-4 text-center">
             <button id="manage-entry-button" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded mr-2 transition duration-150 ease-in-out">Manage My Entry</button>
             <button id="switch-group-button" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out">Switch/View Group</button>
        </div>
    </div>

    <!-- Getting Started Dialog (hidden initially) -->
    <div id="getting-started-dialog" class="hidden bg-white p-6 rounded-lg shadow-lg max-w-lg mx-auto mt-8">
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Welcome to Group Member Map!</h2>
        <p class="text-center text-gray-600 mb-4">See where your Facebook group members are located and add yourself to the map.</p>
        <!-- Placeholder for intro video -->
        <div class="bg-gray-200 h-40 mb-6 rounded flex items-center justify-center text-gray-500 italic">
            (Intro Video Placeholder)
        </div>
        <div class="mb-4">
            <label for="group-id-input" class="block text-sm font-medium text-gray-700 mb-1">View Map by Group ID:</label>
            <input type="text" id="group-id-input" placeholder="Enter Facebook Group ID" class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            <button id="view-group-button" class="mt-2 w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out">
                View Group Map
            </button>
        </div>
        <hr class="my-4">
        <button id="join-map-button" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out">
            Add Me to a Group Map
        </button>
    </div>

    <!-- Join Group Dialog (placeholder structure, hidden) -->
    <div id="join-dialog" class="hidden bg-white p-6 rounded-lg shadow-lg max-w-lg mx-auto mt-8">
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Join Group Map</h2>
        <form id="join-form">
            <p class="text-sm text-gray-600 mb-2">Please grant location access when prompted.</p>
            <p class="text-red-500 hidden mb-2" id="geolocation-error">Error: Geolocation access is required to add your location.</p>
            <p class="text-red-500 hidden mb-2" id="join-error"></p> <!-- For general join errors -->

            <div class="mb-3">
                <label for="first-name-input" class="block text-sm font-medium text-gray-700 mb-1">First Name:</label>
                <input type="text" id="first-name-input" required class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
            </div>
            <div class="mb-3">
                <label for="group-profile-url-input" class="block text-sm font-medium text-gray-700 mb-1">Group Profile URL:</label>
                <input type="url" id="group-profile-url-input" required placeholder="https://facebook.com/groups/GROUP_ID/user/MEMBER_ID" class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <p class="text-xs text-gray-500 mt-1">Find this by going to the group, clicking 'Members', finding yourself, and copying the URL from your browser's address bar.</p>
            </div>
            <div class="mb-3">
                <label for="avatar-input" class="block text-sm font-medium text-gray-700 mb-1">Avatar (Optional):</label>
                <input type="file" id="avatar-input" accept="image/png, image/jpeg, image/gif, image/webp" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border file:border-gray-300 file:text-sm file:font-semibold file:bg-gray-100 file:text-gray-700 hover:file:bg-gray-200 cursor-pointer">
                <p class="text-xs text-gray-500 mt-1">Max 1MB. Will be resized.</p>
            </div>
            <button type="submit" id="submit-join-button" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50 transition duration-150 ease-in-out" disabled>
                Submit My Location
            </button>
        </form>
        <button type="button" id="cancel-join-button" class="mt-4 w-full bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded transition duration-150 ease-in-out">Cancel</button>
    </div>

     <!-- Delete Entry Dialog (placeholder structure, hidden) -->
    <div id="delete-dialog" class="hidden bg-white p-6 rounded-lg shadow-lg max-w-lg mx-auto mt-8">
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Delete My Entry</h2>
        <form id="delete-form">
             <p class="text-sm text-gray-600 mb-2">Enter the Delete Token you received when you joined this group's map.</p>
             <p class="text-red-500 hidden mb-2" id="delete-error"></p> <!-- For delete errors -->

             <div class="mb-3">
                <label for="delete-token-input" class="block text-sm font-medium text-gray-700 mb-1">Delete Token:</label>
                <input type="text" id="delete-token-input" required pattern="[a-f0-9]{32}" title="Enter the 32-character hexadecimal delete token" class="w-full p-2 border border-gray-300 rounded font-mono focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent">
             </div>
             <button type="submit" id="submit-delete-button" class="w-full bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out">
                Delete My Entry Permanently
            </button>
        </form>
         <button type="button" id="cancel-delete-button" class="mt-4 w-full bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded transition duration-150 ease-in-out">Cancel</button>
    </div>

</div> <!-- End of #app-container -->

    <!-- Leaflet JS CDN -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- App Script -->
    <script src="script.js"></script>
</body>
</html>